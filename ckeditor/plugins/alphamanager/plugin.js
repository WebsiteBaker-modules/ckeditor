(function(){function i(o){return o.name.replace(/\[/,"_").replace(/\]/,"_");}function b(p,o){return p.config[o];}function k(q,p,r){var o=b(q,p);return(typeof o=="object")?o[r]:null;}function m(o,p){CKEDITOR.config[o]=p;}function h(){return CKEDITOR.plugins.getPath("alphamanager");}m("alphamanager_skin","flat");m("alphamanager_skinMod","");function g(p,o){if(e(p,o)){return;}p.className=p.className.length==0?o:p.className+" "+o;}function j(q,o){var p=n(q);while(p.indexOf(o)>-1){p.splice(p.indexOf(o),1);}var r=p.join(" ").trim();if(r.length>0){q.className=r;}else{if(q.hasAttribute("class")){q.removeAttribute("class");}}}function n(o){if(typeof(o.className)==="undefined"||o.className==null){return[];}return o.className.split(/\s+/);}function e(r,o){var q=n(r);for(var p=0;p<q.length;p++){if(q[p].toLowerCase()==o.toLowerCase()){return true;}}return false;}function c(q,o){var p=q.createElement("style");q.getElementsByTagName("head")[0].appendChild(p);p.innerHTML=o;}function l(r,v){var y=r.lang.common.browseServer;var w=document.getElementsByClassName("cke_dialog_ui_button");for(var q=0;q<w.length;q++){var x=w[q];if(x.getAttribute("title")==y&&(x.getAttribute("data-alphamanager-obj")==null)){var t=document.createElement("a");t.setAttribute("style","inline-block; margin-top: 14px; margin-left: auto; margin-right: auto; -webkit-user-select: none");t.setAttribute("href","javascript:void(0");t.setAttribute("title",y);t.setAttribute("hidefocus","true");t.setAttribute("class","cke_dialog_ui_button");t.setAttribute("role","button");t.setAttribute("id","alphamanager_browse_btn");var p=document.createElement("span");p.setAttribute("class","cke_dialog_ui_button");p.innerText=y;t.appendChild(p);var s="info:txtUrl";var u=f;var o=false;if(x.parentElement.parentElement.parentElement.parentElement.parentElement.getAttribute("name")){s="Link:txtUrl";u=a;o=true;}if(v.getName()!="image"){s="info:url";u=a;}if(typeof(window.alphamanager_se)==="undefined"){window.alphamanager_se=[];}t.setAttribute("data-alphamanager-obj",window.alphamanager_se.length);(function(){var z=v;window.alphamanager_se.push({url:u,isImage:o,getDialog:function(){return z;},filebrowser:{onSelect:function(){},target:s}});})();x.parentNode.insertBefore(t,x);x.parentNode.removeChild(x);t.onclick=function(){var z=r;var A=this.getAttribute("data-alphamanager-obj");var B=window.alphamanager_se[A];z._.filebrowserSe=B;window.alphamanager_parentDlg=B.getDialog();window.alphamanager_type=B.isImage?"image":"";var z=r;z.openDialog("alphamanager");};}}}var a;var f;var d=true;CKEDITOR.plugins.add("alphamanager",{lang:"en",init:function(t){var v=k(t,"alphamanager","skin");if(typeof v==="undefined"){v="flat";}var q=k(t,"alphamanager","skinMod");if(typeof q==="undefined"){q="";}window.alphamanager_skin=v;window.alphamanager_skinMod=q;a=h()+"index.html?skin="+v;if(q!=null&&q.length>0){a+="&skinMod="+q;}f=a+"&type=image";m("filebrowserBrowseUrl",a);m("filebrowserImageBrowseUrl",f);t.on("dialogShow",function(w){var x=w.editor;var y=w.data;l(x,y);});var u=window,o="inner";if(!("innerWidth" in window)){o="client";u=document.documentElement||document.body;}var r=u[o+"Height"];var p=1316;var s=700;if(s+90>r){s=r-90;}c(document,".cke-btn-disabled {"+"background-color: lightgray !important;"+"background: none !important;"+"border: #A8A8A8 solid 1px !important;"+"color: #9E9E9E !important;"+"text-shadow: 0px 0px 0px transparent !important;"+"font-weight: normal !important;"+"cursor: default !important;"+"}"+".cke-btn-disabled > span {"+"text-shadow: 0px 0px 0px transparent !important;"+"cursor: default !important;"+"}"+".cke-btn-no-focus:focus {"+"box-shadow: none !important;"+"-webkit-box-shadow: none !important;"+"padding: 4px 0 !important;"+"-moz-box-shadow: none !important;"+"border-width: 1px !important;"+"}");window.alphamanager_external_call=function(x,z,w,y){window.alphamanager_on_file_selected=y;window.alphamanager_preselected_file=z;x.openDialog("alphamanager");};CKEDITOR.dialog.add("alphamanager",function(w){return{title:"Alpha Manager file browser",width:p,height:s,padding:0,resizable:CKEDITOR.DIALOG_RESIZE_NONE,onShow:function(){var y=document.getElementById("alphamanager_iframe_"+i(w));if(y!=null){y.parentNode.removeChild(y);}var x=document.getElementById("alphamanager_iframe_wrap_"+i(w));var y=document.createElement("iframe");y.id="alphamanager_iframe_"+i(w);y.name="alphamanager_iframe_"+i(w);y.setAttribute("style","width:100%;height:"+s+"px");x.appendChild(y);var A=CKEDITOR.currentInstance._.filebrowserFn;window.alphamanager_cke_func_num=A;var C=a=h()+"index.html";window.alphamanager_onload=function(G){var F=y.parentNode.parentNode.parentNode.parentNode.parentNode.parentNode.parentNode.parentNode.parentNode.parentNode.parentNode.parentNode.parentNode.parentNode.parentNode;var E=F.offsetWidth;F.style.width=G+"px";var D=F.style.left.substr(0,F.style.left.length-2);F.style.left=(parseInt(D)+(E-parseInt(G))/2)+"px";};y.setAttribute("src",C);g(document.getElementById(this.getButton("ok").domId),"cke-btn-no-focus cke-btn-disabled");
g(document.getElementById(this.getButton("cancel").domId),"cke-btn-no-focus");if(d){var z=y.parentNode.parentNode;z.setAttribute("style",z.getAttribute("style")+";padding:0");var B=y.parentNode.parentNode.parentNode.parentNode.parentNode.parentNode.parentNode;B.setAttribute("style",B.getAttribute("style")+";padding:0");d=false;}},onOk:function(){var x=document.getElementById("alphamanager_iframe_"+i(w));x.contentWindow.setFile();},contents:[{id:"tab-basic",elements:[{type:"html",html:'<div id="alphamanager_iframe_wrap_'+i(w)+'" style="height:100%"></div>'}]}]};});}});})();